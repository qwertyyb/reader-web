webpackJsonp([2],{128:function(t,e){},129:function(t,e){},130:function(t,e){},131:function(t,e){},137:function(t,e,n){n(129);var i=n(10)(n(82),n(141),"data-v-51498935",null);t.exports=i.exports},138:function(t,e,n){n(131);var i=n(10)(n(83),n(143),null,null);t.exports=i.exports},139:function(t,e,n){n(130);var i=n(10)(n(84),n(142),null,null);t.exports=i.exports},140:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"layout"},[n("el-menu",{staticClass:"menu",attrs:{theme:"dark","default-active":"xc",mode:"horizontal"}},[n("el-menu-item",{staticClass:"menu-title",attrs:{index:"xc"}},[t._v("瞎扯")])],1),t._v(" "),n("div",{staticClass:"main-content"},[n("transition",{attrs:{name:"detail"===t.$route.name?"slide-left":"slide-right"}},[n("keep-alive",[n("router-view")],1)],1)],1)],1)},staticRenderFns:[]}},141:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list"},[t._l(t.list,function(e,i){return n("ListItem",{key:e.id,attrs:{item:e},on:{click:function(n){t.$emit("click",e,i)}}})}),t._v(" "),t.getMore?n("p",{staticClass:"more",on:{click:function(e){t.changeLoadingStatus("loading")}}},[t._v(t._s(t.loadingStatus))]):t._e()],2)},staticRenderFns:[]}},142:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("List",{staticClass:"list-com",attrs:{list:t.xcList,"get-more":t.getMore},on:{click:t.getDetail}})},staticRenderFns:[]}},143:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["list-item",t.item.visited?"visited":""],on:{click:function(e){t.$emit("click")}}},[n("img",{staticClass:"picture",attrs:{src:t.item.images[0],alt:t.item.title}}),t._v(" "),n("div",{staticClass:"title-block"},[n("h3",{staticClass:"main-title"},[t._v(t._s(t.item.display_date))]),t._v(" "),n("p",{staticClass:"sub-title"},[t._v(t._s(t.item.title))])])])},staticRenderFns:[]}},49:function(t,e,n){"use strict";var i=n(3),a=n(144),s=n(139),o=n.n(s),r=function(t){return n.e(0).then(function(){var e=[n(147)];t.apply(null,e)}.bind(this)).catch(n.oe)};i.default.use(a.a),e.a=new a.a({routes:[{path:"/",name:"index",component:o.a},{path:"/:id",name:"detail",component:r,props:!0}]})},54:function(t,e){},55:function(t,e){},56:function(t,e){},57:function(t,e){},58:function(t,e){},60:function(t,e,n){n(128);var i=n(10)(n(81),n(140),null,null);t.exports=i.exports},81:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"Views",data:function(){return{activeName:"xc"}},watch:{$route:function(t,e){if("detail"===t.name&&"index"===e.name)localStorage.scroll=document.body.scrollTop,localStorage.docHeight=document.body.offsetHeight;else if("index"===t.name&&"detail"===e.name&&localStorage.scroll&&localStorage)var n=!1,i=Number(localStorage.docHeight),a=0,s=setInterval(function(){if(n||a>10)return void clearInterval(s);a++,document.body.offsetHeight===i&&(document.body.scrollTop=Number(localStorage.scroll),n=!0)},200)}}}},82:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(138),a=n.n(i);e.default={components:{ListItem:a.a},data:function(){return{loadingStatus:"点击加载更多"}},props:{list:{type:Array,default:function(){return[]}},getMore:{type:Function,default:null}},methods:{changeLoadingStatus:function(t){"loading"===t?(this.loadingStatus="正在加载···",this.getMore(this.changeLoadingStatus)):"success"===t?this.loadingStatus="点击加载更多":"fail"===t&&(this.loadingStatus="加载失败")}}}},83:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{item:{type:Object,default:function(){return{}}}}}},84:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(86),a=n.n(i),s=n(63),o=n.n(s),r=n(62),c=n.n(r),l=n(137),u=n.n(l),d=n(61),f=n.n(d);e.default={components:{List:u.a},data:function(){return{xcList:[],xcTimestamp:0,curId:-1,showDetail:!1}},watch:{},methods:{getMore:function(t){var e=this;return c()(o.a.mark(function n(){var i,a,s;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f.a.get("https://bird.ioliu.cn/v1/?url=http://news-at.zhihu.com/api/3/section/2/before/"+e.xcTimestamp);case 3:i=n.sent,a=i.data.stories,s=JSON.parse(localStorage.visited||"[]"),a.forEach(function(t){t.visited=-1!==s.indexOf(t.id)}),e.xcList=e.xcList.concat(a),e.xcTimestamp=i.data.timestamp,t("success"),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(0),t("fail"),e.$notify.error({title:"错误",message:"获取信息错误"});case 16:case"end":return n.stop()}},n,e,[[0,12]])}))()},getDetail:function(t){this.curId=t.id,this.showDetail=!0,t.visited=!0;var e=JSON.parse(localStorage.visited||"[]");~e.indexOf(t.id)||(e.push(t.id),localStorage.visited=a()(e)),t.visited=!0,this.$router.push({path:"/"+t.id})}},created:function(){var t=this;return c()(o.a.mark(function e(){var n,i,a,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$loading({target:".list-com",body:!0,lock:!0}),e.prev=1,e.next=4,f.a.get("https://bird.ioliu.cn/v1/?url=http://news-at.zhihu.com/api/3/section/2");case 4:i=e.sent,a=i.data.stories,s=JSON.parse(localStorage.visited||"[]"),a.forEach(function(t){t.visited=-1!==s.indexOf(t.id)}),t.xcList=a,t.xcTimestamp=i.data.timestamp,n.close(),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),n.close(),t.$notify.error({title:"错误",message:"获取信息错误"});case 17:case"end":return e.stop()}},e,t,[[1,13]])}))()}}},85:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(58),a=(n.n(i),n(53)),s=n.n(a),o=n(55),r=(n.n(o),n(50)),c=n.n(r),l=n(56),u=(n.n(l),n(51)),d=n.n(u),f=n(57),p=(n.n(f),n(54)),m=(n.n(p),n(52)),v=n.n(m),h=n(3),g=n(49),x=n(60),_=n.n(x);n(59).install(),h.default.config.productionTip=!1,h.default.use(v.a),h.default.use(d.a),h.default.use(c.a),h.default.prototype.$notify=s.a,h.default.prototype.$loading=c.a.service,new h.default({el:"#app",router:g.a,components:{Views:_.a}})}},[85]);
//# sourceMappingURL=app.1211347fb6690b5a06f0.js.map