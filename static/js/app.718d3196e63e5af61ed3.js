webpackJsonp([2],{114:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"Views",data:function(){return{activeName:"xc"}},watch:{$route:function(t,e){if("detail"===t.name&&"index"===e.name)localStorage.scroll=document.body.scrollTop,localStorage.docHeight=document.body.offsetHeight;else if("index"===t.name&&"detail"===e.name&&localStorage.scroll&&localStorage)var n=!1,a=Number(localStorage.docHeight),i=0,s=setInterval(function(){if(n||i>10)return void clearInterval(s);i++,document.body.offsetHeight===a&&(document.body.scrollTop=Number(localStorage.scroll),n=!0)},200)}}}},115:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(182),i=n.n(a);e.default={components:{ListItem:i.a},data:function(){return{loadingStatus:"点击加载更多"}},props:{list:{type:Array,default:function(){return[]}},getMore:{type:Function,default:null}},methods:{changeLoadingStatus:function(t){"loading"===t?(this.loadingStatus="正在加载···",this.getMore(this.changeLoadingStatus)):"success"===t?this.loadingStatus="点击加载更多":"fail"===t&&(this.loadingStatus="加载失败")}}}},116:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{item:{type:Object,default:function(){return{}}}}}},117:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(74),i=n.n(a),s=n(73),o=n.n(s),r=n(181),c=n.n(r),l=n(72),u=n.n(l);e.default={components:{List:c.a},data:function(){return{xcList:[],xcTimestamp:0,curId:-1,showDetail:!1}},watch:{},methods:{getMore:function(t){var e=this;return o()(i.a.mark(function n(){var a;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u.a.get("https://bird.ioliu.cn/v1/?url=http://news-at.zhihu.com/api/3/section/2/before/"+e.xcTimestamp);case 3:a=n.sent,e.xcList=e.xcList.concat(a.data.stories),e.xcTimestamp=a.data.timestamp,t("success"),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),t("fail"),e.$notify.error({title:"错误",message:"获取信息错误"});case 13:case"end":return n.stop()}},n,e,[[0,9]])}))()},getDetail:function(t){this.curId=t.id,this.showDetail=!0,this.$router.push({path:"/"+t.id})}},created:function(){var t=this;return o()(i.a.mark(function e(){var n,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$loading({target:".list-com",body:!0,lock:!0}),e.prev=1,e.next=4,u.a.get("https://bird.ioliu.cn/v1/?url=http://news-at.zhihu.com/api/3/section/2");case 4:a=e.sent,t.xcList=a.data.stories,t.xcTimestamp=a.data.timestamp,n.close(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),n.close(),t.$notify.error({title:"错误",message:"获取信息错误"});case 14:case"end":return e.stop()}},e,t,[[1,10]])}))()}}},118:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(2),i=n(68),s=n(71),o=n.n(s),r=n(69),c=(n.n(r),n(70));n.n(c);a.default.config.productionTip=!1,a.default.use(r.Menu),a.default.use(r.MenuItem),a.default.use(r.Loading),a.default.prototype.$notify=r.Notification,a.default.prototype.$loading=r.Loading.service,new a.default({el:"#app",router:i.a,components:{Views:o.a}})},172:function(t,e){},173:function(t,e){},174:function(t,e){},175:function(t,e){},181:function(t,e,n){n(173);var a=n(15)(n(115),n(185),"data-v-51498935",null);t.exports=a.exports},182:function(t,e,n){n(175);var a=n(15)(n(116),n(187),null,null);t.exports=a.exports},183:function(t,e,n){n(174);var a=n(15)(n(117),n(186),null,null);t.exports=a.exports},184:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"layout"},[n("el-menu",{staticClass:"menu",attrs:{theme:"dark","default-active":"xc",mode:"horizontal"}},[n("el-menu-item",{staticClass:"menu-title",attrs:{index:"xc"}},[t._v("瞎扯")])],1),t._v(" "),n("div",{staticClass:"main-content"},[n("transition",{attrs:{name:"detail"===t.$route.name?"slide-left":"slide-right"}},[n("keep-alive",[n("router-view")],1)],1)],1)],1)},staticRenderFns:[]}},185:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list"},[t._l(t.list,function(e,a){return n("ListItem",{key:e.id,attrs:{item:e},on:{click:function(n){t.$emit("click",e,a)}}})}),t._v(" "),t.getMore?n("p",{staticClass:"more",on:{click:function(e){t.changeLoadingStatus("loading")}}},[t._v(t._s(t.loadingStatus))]):t._e()],2)},staticRenderFns:[]}},186:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("List",{staticClass:"list-com",attrs:{list:t.xcList,"get-more":t.getMore},on:{click:t.getDetail}})},staticRenderFns:[]}},187:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list-item",on:{click:function(e){t.$emit("click")}}},[n("img",{staticClass:"picture",attrs:{src:t.item.images[0],alt:t.item.title}}),t._v(" "),n("div",{staticClass:"title-block"},[n("h3",{staticClass:"main-title"},[t._v(t._s(t.item.display_date))]),t._v(" "),n("p",{staticClass:"sub-title"},[t._v(t._s(t.item.title))])])])},staticRenderFns:[]}},68:function(t,e,n){"use strict";var a=n(2),i=n(188),s=n(183),o=n.n(s),r=function(t){return n.e(0).then(function(){var e=[n(191)];t.apply(null,e)}.bind(this)).catch(n.oe)};a.default.use(i.a),e.a=new i.a({routes:[{path:"/",name:"index",component:o.a},{path:"/:id",name:"detail",component:r,props:!0}]})},70:function(t,e){},71:function(t,e,n){n(172);var a=n(15)(n(114),n(184),null,null);t.exports=a.exports}},[118]);
//# sourceMappingURL=app.718d3196e63e5af61ed3.js.map